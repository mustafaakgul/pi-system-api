goog.provide("jive.place._appActionIcon");goog.provide("jive.place.appActionLink");goog.provide("jive.place.appProfileActionLink");goog.provide("jive.place.appProfileActionLinks");goog.require("soy");goog.require("soydata");goog.require("soy.StringBuilder");
jive.place.appActionLink=function(opt_data,opt_sb){var output=opt_sb||new soy.StringBuilder;output.append("<li>");if(opt_data.windowSpec||!opt_data.actionUrl){output.append('<a href="#" rel="nofollow" class="app-action" data-action-id="',soy.$$escapeHtmlAttribute(opt_data.id),'" data-app-url="',soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(opt_data.appURL)),'" data-app-uuid="',soy.$$escapeHtmlAttribute(opt_data.appUUID),'" data-app-instance-uuid="',soy.$$escapeHtmlAttribute(opt_data.appInstanceUUID),
'" data-name="os-action-link" data-selection-type="',soy.$$escapeHtmlAttribute(opt_data.templateView.coreAPIType),'" data-label="',soy.$$escapeHtmlAttribute(opt_data.label),'" data-selection-id="',opt_data.templateView.contextObject?soy.$$escapeHtmlAttribute(opt_data.templateView.contextObject.id):"",'" data-action-url="',soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(opt_data.actionUrl)),'" data-action-window-spec="',soy.$$escapeHtmlAttribute(opt_data.windowSpec),'" data-view="',opt_data.view?
soy.$$escapeHtmlAttribute(opt_data.view):"",'"',opt_data.actionOrigin?' data-action-origin-enum="'+soy.$$escapeHtmlAttribute(opt_data.actionOrigin)+'"':"",opt_data.tooltip?'title="'+soy.$$escapeHtmlAttribute(opt_data.tooltip)+'"':"",">");jive.place._appActionIcon(opt_data,output);output.append('<span class="lnk">',soy.$$escapeHtml(opt_data.label),"</span></a>")}else{output.append('<a href="',soy.$$escapeHtml(opt_data.actionUrl),'" data-action-id="',soy.$$escapeHtmlAttribute(opt_data.id),'" data-app-url="',
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(opt_data.appURL)),'" data-app-uuid="',soy.$$escapeHtmlAttribute(opt_data.appUUID),'" data-app-instance-uuid="',soy.$$escapeHtmlAttribute(opt_data.appInstanceUUID),'" data-name="os-action-link" data-selection-type="',soy.$$escapeHtmlAttribute(opt_data.templateView.coreAPIType),'" data-label="',soy.$$escapeHtmlAttribute(opt_data.label),'" data-selection-id="',opt_data.templateView.contextObject?soy.$$escapeHtmlAttribute(opt_data.templateView.contextObject.id):
"",'" data-action-url="',soy.$$escapeHtml(opt_data.actionUrl),'"',opt_data.actionOrigin?' data-action-origin-enum="'+soy.$$escapeHtmlAttribute(opt_data.actionOrigin)+'"':"",opt_data.tooltip?'title="'+soy.$$escapeHtmlAttribute(opt_data.tooltip)+'"':'title="'+soy.$$escapeHtmlAttribute(opt_data.label)+'"',">");jive.place._appActionIcon(opt_data,output);output.append('<span class="lnk">',soy.$$escapeHtml(opt_data.label),"</span></a>")}output.append("</li>");return opt_sb?"":output.toString()};
jive.place._appActionIcon=function(opt_data,opt_sb){var output=opt_sb||new soy.StringBuilder;switch(opt_data.icon){case "edit":output.append('<span class="jive-icon-glyph icon-edit"></span>');break;case "manage":output.append('<span class="jive-icon-glyph icon-gear"></span>');break;case "move":output.append('<span class="jive-icon-glyph icon-move2"></span>');break;case "add":output.append('<span class="jive-icon-glyph icon-plus-circle2"></span>');break;case "delete":output.append('<span class="jive-icon-glyph icon-minus-circle2"></span>');
break;case "download":output.append('<span class="jive-icon-glyph icon-download"></span>');break;case "flag":output.append('<span class="jive-icon-glyph icon-flag"></span>');break;case "graph":output.append('<span class="jive-icon-glyph icon-stats-up"></span>');break;case "link":output.append('<span class="jive-icon-glyph icon-link"></span>');break;case "create":output.append('<span class="jive-icon-glyph icon-pencil2"></span>');break;default:output.append('<span class="jive-icon-med jive-icon-blank"><img alt="" src="',
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(opt_data.icon)),'" height="16" width="16" /></span>')}return opt_sb?"":output.toString()};
jive.place.appProfileActionLink=function(opt_data,opt_sb){var output=opt_sb||new soy.StringBuilder;output.append(opt_data.windowSpec||!opt_data.actionUrl?'<a href="#" rel="nofollow" class="app-action j-addOn-button j-btn-global j-btn-small" data-action-id="'+soy.$$escapeHtmlAttribute(opt_data.id)+'" data-app-url="'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(opt_data.appURL))+'" data-app-uuid="'+soy.$$escapeHtmlAttribute(opt_data.appUUID)+'" data-app-instance-uuid="'+soy.$$escapeHtmlAttribute(opt_data.appInstanceUUID)+
'" data-name="os-action-link" data-selection-type="'+soy.$$escapeHtmlAttribute(opt_data.templateView.coreAPIType)+'" data-label="'+soy.$$escapeHtmlAttribute(opt_data.label)+'" data-selection-id="'+(opt_data.templateView.contextObject?soy.$$escapeHtmlAttribute(opt_data.templateView.contextObject.id):"")+'" data-action-url="'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(opt_data.actionUrl))+'" data-action-window-spec="'+soy.$$escapeHtmlAttribute(opt_data.windowSpec)+'" data-view="'+(opt_data.view?
soy.$$escapeHtmlAttribute(opt_data.view):"")+'" data-action-origin-enum="PROFILE"'+(opt_data.tooltip?'title="'+soy.$$escapeHtmlAttribute(opt_data.tooltip)+'"':'title="'+soy.$$escapeHtmlAttribute(opt_data.label)+'"')+'><img alt="" class="jive-icon-med jive-ext-icon-16" src="'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(opt_data.icon))+'"/><span class="j-508-label">'+soy.$$escapeHtml(opt_data.label)+"</span></a>":'<a href="'+soy.$$escapeHtml(opt_data.actionUrl)+'" class="j-addOn-button j-btn-global j-btn-small" data-action-id="'+
soy.$$escapeHtmlAttribute(opt_data.id)+'" data-app-url="'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(opt_data.appURL))+'" data-app-uuid="'+soy.$$escapeHtmlAttribute(opt_data.appUUID)+'" data-app-instance-uuid="'+soy.$$escapeHtmlAttribute(opt_data.appInstanceUUID)+'" data-name="os-action-link" data-selection-type="'+soy.$$escapeHtmlAttribute(opt_data.templateView.coreAPIType)+'" data-label="'+soy.$$escapeHtmlAttribute(opt_data.label)+'" data-selection-id="'+(opt_data.templateView.contextObject?
soy.$$escapeHtmlAttribute(opt_data.templateView.contextObject.id):"")+'" data-action-url="'+soy.$$escapeHtml(opt_data.actionUrl)+'" data-action-origin-enum="PROFILE"'+(opt_data.tooltip?'title="'+soy.$$escapeHtmlAttribute(opt_data.tooltip)+'"':'title="'+soy.$$escapeHtmlAttribute(opt_data.label)+'"')+'><img alt="" class="jive-icon-med jive-ext-icon-16" src="'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(opt_data.icon))+'"/><span class="j-508-label">'+soy.$$escapeHtml(opt_data.label)+"</span></a>");
return opt_sb?"":output.toString()};
jive.place.appProfileActionLinks=function(opt_data,opt_sb){var output=opt_sb||new soy.StringBuilder;output.append('<div id="j-',soy.$$escapeHtmlAttribute(opt_data.presencePrefix),"-presence-",soy.$$escapeHtmlAttribute(opt_data.targetUserID),'" class="j-profile-presence j-presence-offline" style="display:none"><span class="j-presence-indicator"></span><span class="j-presence-display">',soy.$$escapeHtml(jive.i18n._i18n("7bbfb0",[])),"</span></div>");if(opt_data.appActionLinks.length>0){output.append('<div class="j-profile-addon-actions j-btn-group">');
var appActionLinkList209=opt_data.appActionLinks;var appActionLinkListLen209=appActionLinkList209.length;for(var appActionLinkIndex209=0;appActionLinkIndex209<appActionLinkListLen209;appActionLinkIndex209++){var appActionLinkData209=appActionLinkList209[appActionLinkIndex209];if(appActionLinkIndex209<4)jive.place.appProfileActionLink(soy.$$augmentMap(appActionLinkData209,{id:appActionLinkData209.id,appURL:appActionLinkData209.appURL,appUUID:appActionLinkData209.appUUID,appInstanceUUID:appActionLinkData209.appInstanceUUID,
templateView:opt_data.templateView,view:appActionLinkData209.view,tooltip:appActionLinkData209.tooltip,icon:appActionLinkData209.icon,label:appActionLinkData209.label,actionUrl:appActionLinkData209.actionUrl,windowSpec:appActionLinkData209.windowSpec}),output)}if(opt_data.appActionLinks.length>4){var randomSuffix__soy227=jive.soy.func.randomString();output.append('<a href="#" id="profile-app-action-',soy.$$escapeHtmlAttribute(randomSuffix__soy227),'-more"  aria-haspopup="true"><span class="j-ui-elem j-action-down-arrow"></span></a><div id="j-overflow-profile-app-action-',
soy.$$escapeHtmlAttribute(randomSuffix__soy227),'-menu" class="j-pop-main j-menu j-quick-menu" style="display:none"><ul>');var appActionLinkList233=opt_data.appActionLinks;var appActionLinkListLen233=appActionLinkList233.length;for(var appActionLinkIndex233=0;appActionLinkIndex233<appActionLinkListLen233;appActionLinkIndex233++){var appActionLinkData233=appActionLinkList233[appActionLinkIndex233];if(appActionLinkIndex233>3){var actionOrigin__soy236=new soy.StringBuilder("PROFILE");actionOrigin__soy236=
actionOrigin__soy236.toString();jive.place.appActionLink(soy.$$augmentMap(appActionLinkData233,{id:appActionLinkData233.id,appURL:appActionLinkData233.appURL,appUUID:appActionLinkData233.appUUID,appInstanceUUID:appActionLinkData233.appInstanceUUID,templateView:opt_data.templateView,view:appActionLinkData233.view,tooltip:appActionLinkData233.tooltip,icon:appActionLinkData233.icon,label:appActionLinkData233.label,actionUrl:appActionLinkData233.actionUrl,windowSpec:appActionLinkData233.windowSpec,actionOrigin:actionOrigin__soy236}),
output)}}output.append("</ul></div><script>\n                    require(['jquery', 'domReady!'], function($j) {\n                        var randomSuffix = '",soy.$$escapeJsString(randomSuffix__soy227),"';\n\n                        var appMenuShowing = false;\n                        var appMenu = $j('#j-overflow-profile-app-action-' + randomSuffix + '-menu');\n                        appMenu.on('click', 'a[data-action-id]', function() {\n                            appMenu.trigger('close');\n                        });\n                        $j('#profile-app-action-' + randomSuffix + '-more').click(function(e) {\n                            e.preventDefault();\n                            if (!appMenuShowing) {\n                                appMenu.popover({\n                                    context: $j(this),\n                                    addClass: \"j-hcard-pop\",\n                                    additionalContainerSelector: '#profile-app-action-' + randomSuffix + '-more',\n                                    destroyOnClose: false,\n                                    putBack: true,\n                                    hoverSelection: true,\n                                    onClose: function() {\n                                        appMenuShowing = false;\n                                    }\n                                });\n                                appMenuShowing = true;\n                            }\n                            else {\n                                appMenu.trigger('close');\n                            }\n                        });\n                    });\n                <\/script>")}output.append("</div>")}return opt_sb?
"":output.toString()};
;
