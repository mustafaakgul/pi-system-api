/*
 * Copyright (C) 1999-2015 Jive Software. All rights reserved.
 *
 * This software is the proprietary information of Jive Software. Use is subject to license terms.
 */

define([
    'jquery',
    'jiverscripts/conc/observable',
    'apps/shared/views/abstract_view',
    'soy!jive.ps.nitro.profile.renderProfilePopup',
    'jive/namespace'
], function($, observable, AbstractView) {
    return AbstractView.extend(function (protect, _super) {

        observable(this);

        this.init = function (options) {
            this.options = options;
            var view = this;

            $(function () {
                var target = $(".j-nitro-view-profile-short .js-statuslevel");
                $(".j-nitro-view-profile-short .js-usercard-profile-data").addClass("n4jive-statuslevel")

                //            target.html($($.parseHtml(jive.ps.nitro.profile.renderProfilePopup())));
                target.html($(jive.ps.nitro.profile.renderProfilePopup()));

                view.emit('viewReady');
            });
        };
    });
});
